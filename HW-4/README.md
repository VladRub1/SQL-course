## üë®üèª‚Äçüíª –î–ó ‚Ññ4 –ì–ª–∞–≤–∞ 5. –û—Å–Ω–æ–≤—ã —è–∑—ã–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:
1. [–ó–∞–¥–∞–Ω–∏–µ 2.](#–∑–∞–¥–∞–Ω–∏–µ_2)
2. [–ó–∞–¥–∞–Ω–∏–µ 9.](#–∑–∞–¥–∞–Ω–∏–µ_9)
3. [–ó–∞–¥–∞–Ω–∏–µ 17.](#–∑–∞–¥–∞–Ω–∏–µ_17)
4. [–ó–∞–¥–∞–Ω–∏–µ 18.](#–∑–∞–¥–∞–Ω–∏–µ_18)

### **–ó–∞–¥–∞–Ω–∏–µ 2.** <a name="–∑–∞–¥–∞–Ω–∏–µ_2"></a>

<details>
<summary>üîΩ –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∑–∞–¥–∞–Ω–∏–µ üîΩ</summary>
–ó–∞–¥–∞–Ω–∏–µ:

–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, –∫–∞–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —É–∂–µ –Ω–∞–ª–æ–∂–µ–Ω—ã –Ω–∞ –∞—Ç—Ä–∏–±—É—Ç—ã —Ç–∞–±–ª–∏—Ü—ã ¬´–£—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç—å¬ª 
(`progress)`. –í–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –∫–æ–º–∞–Ω–¥–æ–π `\d` —É—Ç–∏–ª–∏—Ç—ã `psql`. –ê —Ç–µ–ø–µ—Ä—å –ø—Ä–µ–¥–ª–æ–∂–∏—Ç–µ 
–¥–ª—è —ç—Ç–æ–π —Ç–∞–±–ª–∏—Ü—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è —Ç–∞–±–ª–∏—Ü—ã.

–í –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–∏–º–µ—Ä–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —Ç–∞–∫–æ–π –≤–∞—Ä–∏–∞–Ω—Ç. –î–æ–±–∞–≤—å—Ç–µ –≤ —Ç–∞–±–ª–∏—Ü—É `progress`
–µ—â–µ –æ–¥–∏–Ω –∞—Ç—Ä–∏–±—É—Ç ‚Äî ¬´–§–æ—Ä–º–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–Ω–∞–Ω–∏–π¬ª (`test_form`), –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç
–ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–≤–∞ –∑–Ω–∞—á–µ–Ω–∏—è: ¬´—ç–∫–∑–∞–º–µ–Ω¬ª –∏–ª–∏ ¬´–∑–∞—á–µ—Ç¬ª. –¢–æ–≥–¥–∞ –Ω–∞–±–æ—Ä –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö 
–∑–Ω–∞—á–µ–Ω–∏–π –∞—Ç—Ä–∏–±—É—Ç–∞ ¬´–û—Ü–µ–Ω–∫–∞¬ª (`mark`) –±—É–¥–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç —Ç–æ–≥–æ, —ç–∫–∑–∞–º–µ–Ω –∏–ª–∏ –∑–∞—á–µ—Ç 
–ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω—ã –ø–æ –¥–∞–Ω–Ω–æ–π –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–µ. –ï—Å–ª–∏ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω —ç–∫–∑–∞–º–µ–Ω, —Ç–æ–≥–¥–∞
–¥–æ–ø—É—Å–∫–∞—é—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è 3, 4, 5, –µ—Å–ª–∏ –∑–∞—á–µ—Ç ‚Äî —Ç–æ–≥–¥–∞ 0 (–Ω–µ –∑–∞—á—Ç–µ–Ω–æ) –∏–ª–∏ 1 (–∑–∞—á—Ç–µ–Ω–æ).

–ù–µ –∑–∞–±—É–¥—å—Ç–µ, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏—è `NULL` –¥–ª—è –∞—Ç—Ä–∏–±—É—Ç–æ–≤ `test_form` –∏ `mark` –Ω–µ –¥–æ–ø—É—Å–∫–∞—é—Ç—Å—è.
–ù–æ–≤–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–∞–∫–∏–º:

```SQL
ALTER TABLE progress
ADD CHECK (
( test_form = '—ç–∫–∑–∞–º–µ–Ω' AND mark IN ( 3, 4, 5 ) )
OR
( test_form = '–∑–∞—á–µ—Ç' AND mark IN ( 0, 1 ) )
);
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∫–∞–∫ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–æ–≤–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ 
`progress`. –î–ª—è —ç—Ç–æ–≥–æ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã `INSERT`, –∫–∞–∫ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—é—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—é, 
—Ç–∞–∫ –∏ –Ω–∞—Ä—É—à–∞—é—â–∏–µ –µ–≥–æ.

–í —Ç–∞–±–ª–∏—Ü–µ —É–∂–µ –±—ã–ª–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–∞ `mark`. –ö–∞–∫
–≤—ã –¥—É–º–∞–µ—Ç–µ, –Ω–µ –±—É–¥–µ—Ç –ª–∏ –æ–Ω–æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å —Å –Ω–æ–≤—ã–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º? –ü—Ä–æ–≤–µ—Ä—å—Ç–µ
—ç—Ç—É –≥–∏–ø–æ—Ç–µ–∑—É. –ï—Å–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç, —Ç–æ–≥–¥–∞ —É–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ 
–∏ —Å–Ω–æ–≤–∞ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü—É.

–ü–æ–¥—É–º–∞–π—Ç–µ, –∫–∞–∫–æ–µ –µ—â–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è —Ç–∞–±–ª–∏—Ü—ã –º–æ–∂–Ω–æ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –¥–ª—è
—ç—Ç–æ–π —Ç–∞–±–ª–∏—Ü—ã?
</details>

–û—Ç–≤–µ—Ç:

–°–æ–∑–¥–∞–¥–∏–º —Ç—Ä–µ–±—É–µ–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã:
```SQL
CREATE TABLE students
( record_book numeric( 5 ) NOT NULL,
 name text NOT NULL,
 doc_ser numeric( 4 ),
 doc_num numeric( 6 ),
 PRIMARY KEY ( record_book )
);

CREATE TABLE progress
( record_book numeric( 5 ) NOT NULL,
 subject text NOT NULL,
 acad_year text NOT NULL,
 term numeric( 1 ) NOT NULL CHECK ( term = 1 OR term = 2 ),
 mark numeric( 1 ) NOT NULL CHECK ( mark >= 3 AND mark <= 5 )
 DEFAULT 5,
 FOREIGN KEY ( record_book )
 REFERENCES students ( record_book )
 ON DELETE CASCADE
 ON UPDATE CASCADE
);
```
–î–æ–±–∞–≤–∏–º –ø–∞—Ä—É —Å—Ç—É–¥–µ–Ω—Ç–æ–≤:
```SQL
INSERT INTO students 
VALUES 
(12345, '–ê–ª–µ–∫—Å–µ–µ–≤ –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤–∏—á', 1234, 567890),
(15796, '–ü–µ—Ç—Ä–æ–≤ –í–∞—Å–∏–ª–∏–π –ò–≤–∞–Ω–æ–≤–∏—á', 5423, 124583),
(73548, '–ë—Ä–∞—É–Ω –î–∂–µ–π–º—Å', 1111, 123456);
```

–ü–æ—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —É–∂–µ –Ω–∞–ª–æ–∂–µ–Ω—ã –Ω–∞ –∞—Ç—Ä–∏–±—É—Ç—ã —Ç–∞–±–ª–∏—Ü—ã (`progress`):
```SQL
\d progress
```
```
                             –¢–∞–±–ª–∏—Ü–∞ "public.progress"
   –°—Ç–æ–ª–±–µ—Ü   |     –¢–∏–ø      | –ü—Ä–∞–≤–∏–ª–æ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ | –î–æ–ø—É—Å—Ç–∏–º–æ—Å—Ç—å NULL | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 
-------------+--------------+--------------------+-------------------+--------------
 record_book | numeric(5,0) |                    | not null          | 
 subject     | text         |                    | not null          | 
 acad_year   | text         |                    | not null          | 
 term        | numeric(1,0) |                    | not null          | 
 mark        | numeric(1,0) |                    | not null          | 5
–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è-–ø—Ä–æ–≤–µ—Ä–∫–∏:
    "progress_mark_check" CHECK (mark >= 3::numeric AND mark <= 5::numeric)
    "progress_term_check" CHECK (term = 1::numeric OR term = 2::numeric)
–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤–Ω–µ—à–Ω–µ–≥–æ –∫–ª—é—á–∞:
    "progress_record_book_fkey" FOREIGN KEY (record_book) REFERENCES students(record_book) ON UPDATE CASCADE ON DELETE CASCADE
```

–í–∏–¥–∏–º —Ç—Ä–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è: –¥–≤–∞ `CHECK` –∏ –æ–¥–∏–Ω `FOREIGN KEY`.
–î–æ–±–∞–≤–∏–º –≤ —Ç–∞–±–ª–∏—Ü—É `progress` –∞—Ç—Ä–∏–±—É—Ç ¬´–§–æ—Ä–º–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–Ω–∞–Ω–∏–π¬ª (`test_form`):
```SQL
ALTER TABLE progress 
    ADD COLUMN test_form text NOT NULL 
        CHECK(test_form in ('—ç–∫–∑–∞–º–µ–Ω', '–∑–∞—á–µ—Ç'));
```

–î–æ–±–∞–≤–∏–º –Ω–æ–≤–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ:
```SQL
ALTER TABLE progress
ADD CHECK (
( test_form = '—ç–∫–∑–∞–º–µ–Ω' AND mark IN ( 3, 4, 5 ) )
OR
( test_form = '–∑–∞—á–µ—Ç' AND mark IN ( 0, 1 ) )
);
```

–°–µ–π—á–∞—Å –≤ —Ç–∞–±–ª–∏—Ü–µ `progress` –µ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ `progress_mark_check`
–Ω–∞ –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–∞ `mark`. –û–Ω–æ –±—É–¥–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å —Å –Ω–æ–≤—ã–º
–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º, –µ—Å–ª–∏ —É —Å—Ç—É–¥–µ–Ω—Ç–∞ –±—ã–ª –∑–∞—á–µ—Ç –∏ –æ–Ω –ø–æ–ª—É—á–∏–ª 0 –∏–ª–∏ 1, —Ç.–∫.
—ç—Ç–∏ —á–∏—Å–ª–∞ –º–µ–Ω—å—à–µ 3.

–ü—Ä–æ–≤–µ—Ä–∏–º –≥–∏–ø–æ—Ç–µ–∑—É:
```SQL
INSERT INTO progress 
VALUES 
(12345, '–§–∏–ª–æ—Å–æ—Ñ–∏—è', '2023/2024', 2, 1, '–∑–∞—á–µ—Ç'),
(15796, '–§–∏–ª–æ—Å–æ—Ñ–∏—è', '2023/2024', 2, 0, '–∑–∞—á–µ—Ç');
```
–ó–∞–ø—Ä–æ—Å –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É, –º—ã –≤–≤–µ–ª–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
```
–û–®–ò–ë–ö–ê:  –Ω–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏–∏ "progress" –Ω–∞—Ä—É—à–∞–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ-–ø—Ä–æ–≤–µ—Ä–∫—É "progress_mark_check"
–ü–û–î–†–û–ë–ù–û–°–¢–ò:  –û—à–∏–±–æ—á–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç (12345, –§–∏–ª–æ—Å–æ—Ñ–∏—è, 2023/2024, 2, 1, –∑–∞—á–µ—Ç).
```
–£–¥–∞–ª–∏–º —Å—Ç–∞—Ä–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ:
```SQL
ALTER TABLE progress 
    DROP CONSTRAINT progress_mark_check ;
```
–¢–µ–ø–µ—Ä—å –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∑–∞–ø—Ä–æ—Å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:
```SQL
INSERT INTO progress 
VALUES 
(12345, '–§–∏–ª–æ—Å–æ—Ñ–∏—è', '2023/2024', 2, 1, '–∑–∞—á–µ—Ç'),
(15796, '–§–∏–ª–æ—Å–æ—Ñ–∏—è', '2023/2024', 2, 0, '–∑–∞—á–µ—Ç');

INSERT 0 2
```
```SQL
SELECT * FROM progress ;

 record_book |     subject      | acad_year | term | mark | test_form 
-------------+------------------+-----------+------+------+-----------
       12345 | –§–∏–ª–æ—Å–æ—Ñ–∏—è        | 2023/2024 |    2 |    1 | –∑–∞—á–µ—Ç
       15796 | –§–∏–ª–æ—Å–æ—Ñ–∏—è        | 2023/2024 |    2 |    0 | –∑–∞—á–µ—Ç
(2 —Å—Ç—Ä–æ–∫–∏)
```

–ü—Ä–æ–≤–µ—Ä–∏–º, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ–≤–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤ `progress`:
```SQL
INSERT INTO progress 
VALUES 
(12345, '–õ–∏–Ω–µ–π–Ω–∞—è –∞–ª–≥–µ–±—Ä–∞', '2023/2024', 1, 5, '—ç–∫–∑–∞–º–µ–Ω'),
(15796, '–õ–∏–Ω–µ–π–Ω–∞—è –∞–ª–≥–µ–±—Ä–∞', '2023/2024', 1, 3, '—ç–∫–∑–∞–º–µ–Ω'),
(73548, '–õ–∏–Ω–µ–π–Ω–∞—è –∞–ª–≥–µ–±—Ä–∞', '2023/2024', 1, 2, '—ç–∫–∑–∞–º–µ–Ω');
```
```
–û–®–ò–ë–ö–ê:  –Ω–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏–∏ "progress" –Ω–∞—Ä—É—à–∞–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ-–ø—Ä–æ–≤–µ—Ä–∫—É "progress_check"
–ü–û–î–†–û–ë–ù–û–°–¢–ò:  –û—à–∏–±–æ—á–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç (73548, –õ–∏–Ω–µ–π–Ω–∞—è –∞–ª–≥–µ–±—Ä–∞, 2023/2024, 1, 2, —ç–∫–∑–∞–º–µ–Ω).
```

```SQL
INSERT INTO progress 
VALUES 
(12345, '–§–∏–ª–æ—Å–æ—Ñ–∏—è', '2023/2024', 2, 1, '–∑–∞—á–µ—Ç'),
(15796, '–§–∏–ª–æ—Å–æ—Ñ–∏—è', '2023/2024', 2, 0, '–∑–∞—á–µ—Ç'),
(73548, '–§–∏–ª–æ—Å–æ—Ñ–∏—è', '2023/2024', 2, 5, '–∑–∞—á–µ—Ç');
```
```
–û–®–ò–ë–ö–ê:  –Ω–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏–∏ "progress" –Ω–∞—Ä—É—à–∞–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ-–ø—Ä–æ–≤–µ—Ä–∫—É "progress_check"
–ü–û–î–†–û–ë–ù–û–°–¢–ò:  –û—à–∏–±–æ—á–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç (73548, –§–∏–ª–æ—Å–æ—Ñ–∏—è, 2023/2024, 2, 5, –∑–∞—á–µ—Ç).
```
–í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

–í –∫–∞—á–µ—Å—Ç–≤–µ –µ—â–µ –æ–¥–Ω–æ–≥–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è —Ç–∞–±–ª–∏—Ü—ã –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ
—É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–≤—É—Ö —Å—Ç–æ–ª–±—Ü–æ–≤: `record_book` –∏ `subject`, —á—Ç–æ–±—ã –Ω–µ –¥–æ–ø—É—Å—Ç–∏—Ç—å –Ω–∞–ª–∏—á–∏—è
–≤ —Ç–∞–±–ª–∏—Ü–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –¥–≤—É—Ö –∏ –±–æ–ª–µ–µ –æ—Ü–µ–Ω–æ–∫ –∑–∞ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∫—É—Ä—Å —É –æ–¥–Ω–æ–≥–æ 
—Å—Ç—É–¥–µ–Ω—Ç–∞. –ë—É–¥–µ–º —Å—á–∏—Ç–∞—Ç—å, —á—Ç–æ –≤ —Å–ª—É—á–∞–µ –ø–µ—Ä–µ—Å–¥–∞—á–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ –±—É–¥–µ—Ç –≤–Ω–æ—Å–∏—Ç—å—Å—è
–∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å—Ç—Ä–æ–∫—É.

```SQL
ALTER TABLE progress
ADD CONSTRAINT unique_mark UNIQUE (record_book, subject );
```
–ü–æ—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –Ω–æ–≤–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ:
```SQL
\d progress
```
```
                             –¢–∞–±–ª–∏—Ü–∞ "public.progress"
   –°—Ç–æ–ª–±–µ—Ü   |     –¢–∏–ø      | –ü—Ä–∞–≤–∏–ª–æ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ | –î–æ–ø—É—Å—Ç–∏–º–æ—Å—Ç—å NULL | –ü–æ —É–º–æ–ª—á–∞
–Ω–∏—é 
-------------+--------------+--------------------+-------------------+----------
----
 record_book | numeric(5,0) |                    | not null          | 
 subject     | text         |                    | not null          | 
 acad_year   | text         |                    | not null          | 
 term        | numeric(1,0) |                    | not null          | 
 mark        | numeric(1,0) |                    | not null          | 5
 test_form   | text         |                    | not null          | 
–ò–Ω–¥–µ–∫—Å—ã:
    "unique_mark" UNIQUE CONSTRAINT, btree (record_book, subject)
–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è-–ø—Ä–æ–≤–µ—Ä–∫–∏:
    "progress_check" CHECK (test_form = '—ç–∫–∑–∞–º–µ–Ω'::text AND (mark = ANY (ARRAY[3
::numeric, 4::numeric, 5::numeric])) OR test_form = '–∑–∞—á–µ—Ç'::text AND (mark = AN
Y (ARRAY[0::numeric, 1::numeric])))
    "progress_term_check" CHECK (term = 1::numeric OR term = 2::numeric)
    "progress_test_form_check" CHECK (test_form = ANY (ARRAY['—ç–∫–∑–∞–º–µ–Ω'::text, '–∑
–∞—á–µ—Ç'::text]))
–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤–Ω–µ—à–Ω–µ–≥–æ –∫–ª—é—á–∞:
    "progress_record_book_fkey" FOREIGN KEY (record_book) REFERENCES students(re
cord_book) ON UPDATE CASCADE ON DELETE CASCADE
```
–í–∏–¥–∏–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ `unique_mark`, –¥–ª—è –Ω–µ–≥–æ –±—ã–ª —Å–æ–∑–¥–∞–Ω –∏–Ω–¥–µ–∫—Å.

–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ–º –µ–≥–æ:
```SQL
INSERT INTO progress 
VALUES 
(12345, '–ò—Å—Ç–æ—Ä–∏—è', '2022/2023', 2, 1, '–∑–∞—á–µ—Ç'),
(15796, '–ò—Å—Ç–æ—Ä–∏—è', '2022/2023', 2, 0, '–∑–∞—á–µ—Ç'),
(73548, '–ò—Å—Ç–æ—Ä–∏—è', '2022/2023', 2, 1, '–∑–∞—á–µ—Ç');
```
–í–≤–µ–ª–∏ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –ø–µ—Ä–≤—ã–π —Ä–∞–∑. –¢–µ–ø–µ—Ä—å –ø–æ–ø—Ä–æ–±—É–µ–º –≤–≤–µ—Å—Ç–∏ –Ω–æ–≤—É—é –æ—Ü–µ–Ω–∫—É —Å—Ç—É–¥–µ–Ω—Ç—É,
–∫–æ—Ç–æ—Ä—ã–π –Ω–µ —Å–¥–∞–ª –∫—É—Ä—Å, –≤ —Å–ª–µ–¥—É—é—â–µ–º —Å–µ–º–µ—Å—Ç—Ä–µ:
```SQL
INSERT INTO progress 
VALUES (15796, '–ò—Å—Ç–æ—Ä–∏—è', '2023/2024', 1, 1, '–∑–∞—á–µ—Ç');
```
–ü–æ–ª—É—á–∏–ª–∏ –æ—à–∏–±–∫—É:
```
–û–®–ò–ë–ö–ê:  –ø–æ–≤—Ç–æ—Ä—è—é—â–µ–µ—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∫–ª—é—á–∞ –Ω–∞—Ä—É—à–∞–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ "unique_mark"
–ü–û–î–†–û–ë–ù–û–°–¢–ò:  –ö–ª—é—á "(record_book, subject)=(15796, –ò—Å—Ç–æ—Ä–∏—è)" —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.
```
–í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫, –∫–∞–∫ –º—ã —Ö–æ—Ç–µ–ª–∏!

---
### **–ó–∞–¥–∞–Ω–∏–µ 9.** <a name="–∑–∞–¥–∞–Ω–∏–µ_9"></a>

<details>
<summary>üîΩ –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∑–∞–¥–∞–Ω–∏–µ üîΩ</summary>
–ó–∞–¥–∞–Ω–∏–µ:

–¢–ï–ö–°–¢ –ó–ê–î–ê–ù–ò–Ø
</details>

–û—Ç–≤–µ—Ç:

–í–≤–µ–¥–µ–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—É—é –≤ –∑–∞–¥–∞–Ω–∏–∏ –∫–æ–º–∞–Ω–¥—É:
```SQL
INSERT INTO aircrafts
VALUES ( 'SU9', 'Sukhoi SuperJet-100', 3000 );
```

–í—ã–≤–æ–¥:
```
–û–®–ò–ë–ö–ê:  –ø–æ–≤—Ç–æ—Ä—è—é—â–µ–µ—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∫–ª—é—á–∞ –Ω–∞—Ä—É—à–∞–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ "aircrafts_pkey"
–ü–û–î–†–û–ë–ù–û–°–¢–ò:  –ö–ª—é—á "(aircraft_code)=(SU9)" —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.
```

---
### **–ó–∞–¥–∞–Ω–∏–µ 17.** <a name="–∑–∞–¥–∞–Ω–∏–µ_17"></a>

<details>
<summary>üîΩ –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∑–∞–¥–∞–Ω–∏–µ üîΩ</summary>
–ó–∞–¥–∞–Ω–∏–µ:

–¢–ï–ö–°–¢ –ó–ê–î–ê–ù–ò–Ø
</details>

–û—Ç–≤–µ—Ç:

–í–≤–µ–¥–µ–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—É—é –≤ –∑–∞–¥–∞–Ω–∏–∏ –∫–æ–º–∞–Ω–¥—É:
```SQL
INSERT INTO aircrafts
VALUES ( 'SU9', 'Sukhoi SuperJet-100', 3000 );
```

–í—ã–≤–æ–¥:
```
–û–®–ò–ë–ö–ê:  –ø–æ–≤—Ç–æ—Ä—è—é—â–µ–µ—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∫–ª—é—á–∞ –Ω–∞—Ä—É—à–∞–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ "aircrafts_pkey"
–ü–û–î–†–û–ë–ù–û–°–¢–ò:  –ö–ª—é—á "(aircraft_code)=(SU9)" —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.
```

---
### **–ó–∞–¥–∞–Ω–∏–µ 18.** <a name="–∑–∞–¥–∞–Ω–∏–µ_18"></a>

<details>
<summary>üîΩ –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∑–∞–¥–∞–Ω–∏–µ üîΩ</summary>
–ó–∞–¥–∞–Ω–∏–µ:

–¢–ï–ö–°–¢ –ó–ê–î–ê–ù–ò–Ø
</details>

–û—Ç–≤–µ—Ç:

–í–≤–µ–¥–µ–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—É—é –≤ –∑–∞–¥–∞–Ω–∏–∏ –∫–æ–º–∞–Ω–¥—É:
```SQL
INSERT INTO aircrafts
VALUES ( 'SU9', 'Sukhoi SuperJet-100', 3000 );
```

–í—ã–≤–æ–¥:
```
–û–®–ò–ë–ö–ê:  –ø–æ–≤—Ç–æ—Ä—è—é—â–µ–µ—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∫–ª—é—á–∞ –Ω–∞—Ä—É—à–∞–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ "aircrafts_pkey"
–ü–û–î–†–û–ë–ù–û–°–¢–ò:  –ö–ª—é—á "(aircraft_code)=(SU9)" —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.
```

---